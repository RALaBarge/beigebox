# beigebox config
# All runtime settings live here. No hardcoded values in the codebase.

# --- Backend (where requests get forwarded) ---
backend:
  url: "http://localhost:11434"       # Ollama base URL
  default_model: "mistral-nemo:12b"          # Fallback model if none specified in request
  timeout: 120                         # Seconds before we give up on a backend response

# --- Middleware Server ---
server:
  host: "0.0.0.0"
  port: 8001

# --- Embedding ---
embedding:
  model: "nomic-embed-text"            # Must be pulled in Ollama
  backend_url: "http://localhost:11434" # Can point to a different Ollama instance

# --- Storage ---
storage:
  sqlite_path: "./data/conversations.db"
  chroma_path: "./data/chroma"
  log_conversations: true              # Master switch: set false to disable all capture

# --- Tools ---
tools:
  enabled: true                        # Master switch for LangChain tool augmentation
  web_search:
    enabled: true
    provider: "duckduckgo"             # "duckduckgo" or "google"
    max_results: 5
  web_scraper:
    enabled: true
    max_content_length: 10000          # Max chars to extract per page
  google_search:
    enabled: false
    api_key: "${GOOGLE_API_KEY}"       # Resolved from .env at runtime
    cse_id: "${GOOGLE_CSE_ID}"

# --- Decision LLM (Future) ---
decision_llm:
  enabled: false
  model: "qwen3:3b"                   # Small fast model for routing decisions
  backend_url: "http://localhost:11434"

# --- Logging ---
logging:
  level: "INFO"                        # DEBUG, INFO, WARNING, ERROR
  file: "./data/middleware.log"

# --- Wiretap (structured conversation log for `beigebox tap`) ---
wiretap:
  path: "./data/wire.jsonl"            # JSONL log of every message on the wire
